# 多维数组指针

偶然翻到之前学C语言的手写笔记，重新总结记录下来




## 语法说明：

1. **定义**变量时，`int *p;`的`*`代表要创建一个用来存放指针的变量，这是C的规则
2. **使用**变量时，符号`*`代表从指针里面取值
3. **使用**变量时，符号`&`代表从值里面去指针地址
4. 格式化输出语句`printf("%d",value);`格式对照

  |符号|说明|
  |---|---|
  |%d    |      输出一个有符号的10进制int类型|
  |%o    |      输出8进制的int类型|
  |%x    |      输出16进制的int类型，字母以小写输出|
  |%X    |      输出16进制的int类型，字母以大写输出|
  |%u    |       输出一个10进制的无符号数|
  |%l    |       输出long类型|
  |%ll   |        输出long long类型|
  |%lu   |     输出unsigned long类型|
  |%llu  |       输出无符号long long类型|
  |%f    |        单精度浮点数|
  |%lf   |         双精度浮点数|
  |%c    |        字符类型|
  |%s    |         字符串类型，c语言中字符串以‘\0’结尾|
  |%p    |        以16进制形式输出指针|
  |%%    |       输出一个百分号|

## 论点：

### 论点1. 数组变量`arr`本质上就是指向第一个元素的指针
### 论点2. 数组元素在内存里空间地址是连续的，可以通过(指针+1)的方式来取得下一位元素的指针

## 验证论点

-----

- 声明一个二维int数组

```c
#include <stdio.h>
int main(void) { 
    int arr[3][3]={ {0,1,2}, {10,11,12}, {20,21,22}};
    printf("%d-%d-%d",a[0][0],a[0][1],a[0][2]);//输出 0-1-2
    return 0;
}
```


-----



- 验证论点1：*数组变量`arr`本质上就是指向第一个元素的指针*


使用`*`将arr的值取出来，即`*arr`

因为`arr`是指向第一个元素`arr[0]`的指针`&arr[0]`，所以`*arr`等于第一个元素，即`arr[0]`
  
```c
  int arr[3][3]={ {0,1,2}, {10,11,12}, {20,21,22}};
  
  // 变量subArr1声明为指针类型是因为它接收的是一个 “数组”而数组本质上就是指向第一个元素的指针
  int *subArrA0 = *arr;
  int *subArrB0 = arr[0];
  
  printf("%d : %d",subArrA0[1],subArrB0[1]);//输出 1 : 1
```
  

-----



- 验证论点2：*数组元素在内存里空间地址是连续的，可以通过(指针+1)的方式来取得下一位元素的指针*

由前面可得知`arr`是`arr[0]`的指针，我们再猜测`arr+1`是`arr[1]`的指针`&arr[1]`，即`*(arr+1)`等于`arr[1]`
```c
  int arr[3][3]={ {0,1,2}, {10,11,12}, {20,21,22}};
  
  // 将*(arr+1)赋值给subArr1
  int *subArrA1 = *(arr+1);
  int *subArrB1 = arr[1];
  
  printf("%d : %d",subArrA1[2],subArrB1[2]);//输出 12 : 12
```  


## 做道题练练感觉

```c
#include <stdio.h>
int main(void) { 
    int arr[3][3]={{568,866,836},{687,242,8365},{1416,3346,9465}};
    printf("%d \n",   *(*(arr+2)+1)      );
    printf("%d \n",   *(*arr+2)          );
    printf("%d \n",   *(arr[1]+2)        );
	return 0;
}
```
分别输出什么？


<button onclick="document.getElementById('c_a_1').style.opacity=1;">点击查看答案</button>

<div id="c_a_1" style="opacity: 0;">

```c
    int arr[3][3]={{568,866,836},{687,242,8365},{1416,3346,9465}};
    // 拿到第3个“子数组”，再将得到的子数组+1，得到第3个子数组的第2个元素
    printf("%d \n",   *(*(arr+2)+1)      ); 
    // 拿到第1个“子数组”，将子数组+2，得到第1个子数组的第3个元素
    printf("%d \n",   *(*arr+2)          ); 
    // 拿到第2个子数组，将子数组+1，得到第2个子数组的第3个元素
    printf("%d \n",   *(arr[1]+2)        ); 
```

</div>
